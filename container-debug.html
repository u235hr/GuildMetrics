<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®¹å™¨æŸ¥è¯¢é—®é¢˜è°ƒè¯•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* æ¨¡æ‹Ÿæ‚¨çš„å®é™…æƒ…å†µ */
        .outer-wrapper {
            height: 35vh;
            background: #1f2937;
            border: 2px solid #3b82f6;
        }
        
        .top3-container {
            height: 100%;
            background: #374151;
            border: 2px solid #10b981;
        }
        
        .card-wrapper {
            height: 85%;
            background: #4b5563;
            border: 2px solid #f59e0b;
        }
        
        /* ä¸åŒçš„å®¹å™¨æŸ¥è¯¢è®¾ç½® */
        .no-container {
            /* æ²¡æœ‰å®¹å™¨æŸ¥è¯¢ */
        }
        
        .wrapper-container {
            container-type: size;
            container-name: wrapper;
        }
        
        .card-container {
            container-type: size;
            container-name: card;
        }
        
        .both-container {
            container-type: size;
            container-name: both;
        }
        
        /* é“¶å¡æ ·å¼ */
        .silver-card {
            background: linear-gradient(to bottom right, #d1d5db, #9ca3af, #6b7280);
            color: white;
            border-radius: 20px;
            padding: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all 0.3s ease;
        }
        
        /* è°ƒè¯•ä¿¡æ¯ */
        .debug-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px;
            font-size: 10px;
            font-family: monospace;
            display: none;
            z-index: 10;
        }
        
        .container:hover .debug-overlay {
            display: block;
        }
        
        .height-indicator {
            position: absolute;
            top: 2px;
            right: 2px;
            background: rgba(255,0,0,0.8);
            color: white;
            padding: 2px 4px;
            border-radius: 2px;
            font-size: 8px;
            z-index: 5;
        }
    </style>
</head>
<body class="bg-gray-900 text-white p-4">
    <div class="max-w-6xl mx-auto space-y-6">
        <h1 class="text-2xl font-bold text-center mb-6">å®¹å™¨æŸ¥è¯¢é—®é¢˜å®æ—¶è°ƒè¯•</h1>
        
        <!-- æ§åˆ¶é¢æ¿ -->
        <div class="bg-gray-800 p-4 rounded-lg">
            <h2 class="text-lg font-semibold mb-3">å®æ—¶è°ƒè¯•æ§åˆ¶</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                <label class="flex flex-col">
                    å¤–å±‚é«˜åº¦ (35vh):
                    <input type="range" id="outerHeight" min="20" max="50" value="35" class="mt-1">
                    <span id="outerValue">35vh</span>
                </label>
                <label class="flex flex-col">
                    å¡ç‰‡åŒ…è£…é«˜åº¦:
                    <input type="range" id="cardHeight" min="70" max="100" value="85" class="mt-1">
                    <span id="cardValue">85%</span>
                </label>
                <label class="flex flex-col">
                    é“¶å¡cqhå€¼:
                    <input type="range" id="cqhValue" min="50" max="120" value="80" class="mt-1">
                    <span id="cqhDisplay">80cqh</span>
                </label>
                <button id="toggleDebug" class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-sm">
                    æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
                </button>
            </div>
        </div>
        
        <!-- å››ç§åœºæ™¯å¯¹æ¯” -->
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4">
            
            <!-- åœºæ™¯1: æ— å®¹å™¨æŸ¥è¯¢ -->
            <div class="bg-gray-800 p-3 rounded-lg">
                <h3 class="text-sm font-semibold mb-2 text-red-400">åœºæ™¯1: æ— @container</h3>
                <div class="outer-wrapper no-container relative container">
                    <div class="height-indicator" id="outer1">35vh</div>
                    <div class="debug-overlay">
                        å¤–å±‚: æ— container-type<br>
                        é«˜åº¦: <span id="outer1-px">200px</span><br>
                        å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: æ— 
                    </div>
                    
                    <div class="top3-container flex justify-center items-end p-2">
                        <div class="card-wrapper no-container relative container" style="width: 60px;">
                            <div class="height-indicator" id="card1">85%</div>
                            <div class="debug-overlay">
                                å¡ç‰‡åŒ…è£…: æ— container-type<br>
                                é«˜åº¦: <span id="card1-px">170px</span><br>
                                å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: æ— 
                            </div>
                            
                            <div class="silver-card relative" style="height: 80%;" id="silver1">
                                <div class="text-xs font-bold">é“¶å¡</div>
                                <div class="text-xs">80% (fallback)</div>
                                <div class="text-xs">å®é™…: <span id="silver1-px">136px</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- åœºæ™¯2: åªåœ¨å¤–å±‚è®¾ç½® -->
            <div class="bg-gray-800 p-3 rounded-lg">
                <h3 class="text-sm font-semibold mb-2 text-yellow-400">åœºæ™¯2: å¤–å±‚@container</h3>
                <div class="outer-wrapper wrapper-container relative container">
                    <div class="height-indicator" id="outer2">35vh</div>
                    <div class="debug-overlay">
                        å¤–å±‚: container-type: size<br>
                        é«˜åº¦: <span id="outer2-px">200px</span><br>
                        å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: wrapper
                    </div>
                    
                    <div class="top3-container flex justify-center items-end p-2">
                        <div class="card-wrapper no-container relative container" style="width: 60px;">
                            <div class="height-indicator" id="card2">85%</div>
                            <div class="debug-overlay">
                                å¡ç‰‡åŒ…è£…: æ— container-type<br>
                                é«˜åº¦: <span id="card2-px">170px</span><br>
                                å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: ç»§æ‰¿wrapper
                            </div>
                            
                            <div class="silver-card relative" id="silver2">
                                <div class="text-xs font-bold">é“¶å¡</div>
                                <div class="text-xs" id="cqh2">80cqh</div>
                                <div class="text-xs">åŸºäºå¤–å±‚</div>
                                <div class="text-xs">å®é™…: <span id="silver2-px">160px</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- åœºæ™¯3: åªåœ¨å¡ç‰‡åŒ…è£…è®¾ç½® -->
            <div class="bg-gray-800 p-3 rounded-lg">
                <h3 class="text-sm font-semibold mb-2 text-blue-400">åœºæ™¯3: å¡ç‰‡åŒ…è£…@container</h3>
                <div class="outer-wrapper no-container relative container">
                    <div class="height-indicator" id="outer3">35vh</div>
                    <div class="debug-overlay">
                        å¤–å±‚: æ— container-type<br>
                        é«˜åº¦: <span id="outer3-px">200px</span><br>
                        å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: æ— 
                    </div>
                    
                    <div class="top3-container flex justify-center items-end p-2">
                        <div class="card-wrapper card-container relative container" style="width: 60px;">
                            <div class="height-indicator" id="card3">85%</div>
                            <div class="debug-overlay">
                                å¡ç‰‡åŒ…è£…: container-type: size<br>
                                é«˜åº¦: <span id="card3-px">170px</span><br>
                                å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: card
                            </div>
                            
                            <div class="silver-card relative" id="silver3">
                                <div class="text-xs font-bold">é“¶å¡</div>
                                <div class="text-xs" id="cqh3">80cqh</div>
                                <div class="text-xs">åŸºäºåŒ…è£…</div>
                                <div class="text-xs">å®é™…: <span id="silver3-px">136px</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- åœºæ™¯4: ä¸¤å±‚éƒ½è®¾ç½® -->
            <div class="bg-gray-800 p-3 rounded-lg">
                <h3 class="text-sm font-semibold mb-2 text-green-400">åœºæ™¯4: ä¸¤å±‚@container</h3>
                <div class="outer-wrapper both-container relative container">
                    <div class="height-indicator" id="outer4">35vh</div>
                    <div class="debug-overlay">
                        å¤–å±‚: container-type: size<br>
                        é«˜åº¦: <span id="outer4-px">200px</span><br>
                        å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: both
                    </div>
                    
                    <div class="top3-container flex justify-center items-end p-2">
                        <div class="card-wrapper both-container relative container" style="width: 60px;">
                            <div class="height-indicator" id="card4">85%</div>
                            <div class="debug-overlay">
                                å¡ç‰‡åŒ…è£…: container-type: size<br>
                                é«˜åº¦: <span id="card4-px">170px</span><br>
                                å®¹å™¨æŸ¥è¯¢ä¸Šä¸‹æ–‡: both (æœ€è¿‘çš„)
                            </div>
                            
                            <div class="silver-card relative" id="silver4">
                                <div class="text-xs font-bold">é“¶å¡</div>
                                <div class="text-xs" id="cqh4">80cqh</div>
                                <div class="text-xs">åŸºäºåŒ…è£…</div>
                                <div class="text-xs">å®é™…: <span id="silver4-px">136px</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- é—®é¢˜åˆ†æ -->
        <div class="bg-red-900 bg-opacity-50 p-4 rounded-lg">
            <h3 class="text-lg font-semibold text-red-300 mb-3">ğŸš¨ æ‚¨é‡åˆ°çš„é—®é¢˜åˆ†æ</h3>
            <div class="space-y-2 text-sm">
                <div><strong>ç°è±¡1:</strong> é“¶å¡è®¾ç½®80cqhå"å†²åˆ°æ•´ä¸ªå±å¹•é«˜åº¦" â†’ å¯èƒ½åŸºäºäº†è§†å£è€Œä¸æ˜¯é¢„æœŸå®¹å™¨</div>
                <div><strong>ç°è±¡2:</strong> å¤–å±‚åŒ…è£¹è®¾ç½®@containeråï¼Œé“¶å¡80cqh"å˜å¾—å¼‚å¸¸çŸ­" â†’ åŸºäºäº†å¤–å±‚å®¹å™¨è€Œä¸æ˜¯å¡ç‰‡åŒ…è£…</div>
                <div><strong>æ ¹æœ¬åŸå› :</strong> å®¹å™¨æŸ¥è¯¢çš„"æœ€è¿‘ç¥–å…ˆ"æŸ¥æ‰¾æœºåˆ¶å¯¼è‡´è®¡ç®—åŸºå‡†ä¸ç¨³å®š</div>
            </div>
        </div>
        
        <!-- è§£å†³æ–¹æ¡ˆ -->
        <div class="bg-green-900 bg-opacity-50 p-4 rounded-lg">
            <h3 class="text-lg font-semibold text-green-300 mb-3">ğŸ’¡ æ¨èè§£å†³æ–¹æ¡ˆ</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div>
                    <h4 class="font-semibold mb-2">æ–¹æ¡ˆA: ä½¿ç”¨ç™¾åˆ†æ¯” (æ¨è)</h4>
                    <pre class="bg-gray-800 p-2 rounded text-xs"><code>// ç®€å•å¯é 
&lt;SilverCard className="h-[80%]" /&gt;</code></pre>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">æ–¹æ¡ˆB: ç²¾ç¡®æ§åˆ¶å®¹å™¨æŸ¥è¯¢</h4>
                    <pre class="bg-gray-800 p-2 rounded text-xs"><code>// åªåœ¨éœ€è¦çš„åœ°æ–¹è®¾ç½®
&lt;div className="h-[85%] @container"&gt;
  &lt;SilverCard className="h-[80cqh]" /&gt;
&lt;/div&gt;</code></pre>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const outerSlider = document.getElementById('outerHeight');
        const cardSlider = document.getElementById('cardHeight');
        const cqhSlider = document.getElementById('cqhValue');
        const toggleBtn = document.getElementById('toggleDebug');
        
        let debugMode = false;
        
        function updateValues() {
            const outerVh = parseInt(outerSlider.value);
            const cardPercent = parseInt(cardSlider.value);
            const cqhValue = parseInt(cqhSlider.value);
            
            // å‡è®¾è§†å£é«˜åº¦ä¸º600px
            const viewportHeight = 600;
            const outerPx = Math.round(viewportHeight * outerVh / 100);
            const cardPx = Math.round(outerPx * cardPercent / 100);
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('outerValue').textContent = outerVh + 'vh';
            document.getElementById('cardValue').textContent = cardPercent + '%';
            document.getElementById('cqhDisplay').textContent = cqhValue + 'cqh';
            
            // æ›´æ–°æ‰€æœ‰å¤–å±‚å®¹å™¨
            document.querySelectorAll('.outer-wrapper').forEach(el => {
                el.style.height = outerVh + 'vh';
            });
            
            // æ›´æ–°æ‰€æœ‰å¡ç‰‡åŒ…è£…
            document.querySelectorAll('.card-wrapper').forEach(el => {
                el.style.height = cardPercent + '%';
            });
            
            // æ›´æ–°åƒç´ å€¼æ˜¾ç¤º
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`outer${i}-px`).textContent = outerPx + 'px';
                document.getElementById(`card${i}-px`).textContent = cardPx + 'px';
            }
            
            // è®¡ç®—ä¸åŒåœºæ™¯ä¸‹çš„é“¶å¡é«˜åº¦
            const silver1 = Math.round(cardPx * 0.8); // 80%
            const silver2 = Math.round(outerPx * cqhValue / 100); // åŸºäºå¤–å±‚
            const silver3 = Math.round(cardPx * cqhValue / 100); // åŸºäºå¡ç‰‡åŒ…è£…
            const silver4 = Math.round(cardPx * cqhValue / 100); // åŸºäºæœ€è¿‘çš„å®¹å™¨
            
            document.getElementById('silver1-px').textContent = silver1 + 'px';
            document.getElementById('silver2-px').textContent = silver2 + 'px';
            document.getElementById('silver3-px').textContent = silver3 + 'px';
            document.getElementById('silver4-px').textContent = silver4 + 'px';
            
            // æ›´æ–°cqhæ˜¾ç¤º
            document.getElementById('cqh2').textContent = cqhValue + 'cqh';
            document.getElementById('cqh3').textContent = cqhValue + 'cqh';
            document.getElementById('cqh4').textContent = cqhValue + 'cqh';
            
            // å®é™…è®¾ç½®é“¶å¡é«˜åº¦ (æ¨¡æ‹Ÿå®¹å™¨æŸ¥è¯¢æ•ˆæœ)
            document.getElementById('silver2').style.height = (cqhValue * outerPx / outerPx) + '%';
            document.getElementById('silver3').style.height = cqhValue + '%';
            document.getElementById('silver4').style.height = cqhValue + '%';
        }
        
        function toggleDebug() {
            debugMode = !debugMode;
            const overlays = document.querySelectorAll('.debug-overlay');
            overlays.forEach(overlay => {
                overlay.style.display = debugMode ? 'block' : 'none';
            });
            toggleBtn.textContent = debugMode ? 'éšè—è°ƒè¯•ä¿¡æ¯' : 'æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯';
        }
        
        outerSlider.addEventListener('input', updateValues);
        cardSlider.addEventListener('input', updateValues);
        cqhSlider.addEventListener('input', updateValues);
        toggleBtn.addEventListener('click', toggleDebug);
        
        // åˆå§‹åŒ–
        updateValues();
    </script>
</body>
</html>